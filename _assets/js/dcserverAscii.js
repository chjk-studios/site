const art = `
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000    0000000000000   000000000000000000000000000
0000000000000000000000          0         0          000000000000000000000
0000000000000000000                                    0000000000000000000
000000000000000000                                      000000000000000000
00000000000000000                                        00000000000000000
0000000000000000                                          0000000000000000
0000000000000000                                           000000000000000
000000000000000                                            000000000000000
000000000000000            0000            0000             00000000000000
00000000000000           00000000        00000000           00000000000000
0000000000000            000000000       000000000           0000000000000
0000000000000           0000000000       000000000           0000000000000
0000000000000            00000000        00000000            0000000000000
0000000000000              0000            0000              0000000000000
0000000000000                                                0000000000000
0000000000000                                                0000000000000
0000000000000           00                      00           0000000000000
0000000000000000          0000000000000000000000           000000000000000
0000000000000000000        00000000000000000000        0000000000000000000
00000000000000000000000   00000000000000000000000  00000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000
`;

const pre = document.getElementById("ascii");
pre.textContent = art;

let bag = [];

function chooseRandom() {
    const effects = [
        effect1,
        effect2,
        effect3,
        effect4,
        effect5
    ];

    const effect = effects[Math.floor(Math.random() * effects.length)];
    //document.getElementById('currentAnimation').textContent = `${effect.name} - changing in 16s`;
    effect();
}

function effect1() {
    let line = 0;
    const lines = art.split("\n");

    effectInterval = setInterval(() => {
        pre.innerHTML = lines
            .map((l, i) =>
            i === line
                ? `<span style="color:var(--accent)">${l}</span>`
                : `<span style="color:#555">${l}</span>`
            )
            .join("\n");

        line = (line + 1) % lines.length;
    }, 120);
}

function effect2() {
    const base = art.split("");

    effectInterval = setInterval(() => {
        const out = base.map(c => {
            if (c === " " || c === "\n") return c;
            return Math.random() < 0.02 ? "." : c;
        });
        pre.textContent = out.join("");
    }, 60);
}

function effect3() {
    const rainChars = "";

    effectInterval = setInterval(() => {
        const result = art.split("").map(c => {
            if (c !== " " && c !== "\n" && Math.random() < 0.01) {
            return rainChars[Math.floor(Math.random() * rainChars.length)];
            }
            return c;
    });
    pre.textContent = result.join("");
    }, 90);
}

function effect4() {
    const charset = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789#$%&";

    let progress = 0;
    effectInterval = setInterval(() => {
        const out = art.split("").map((c, i) => {
            if (c === "\n") return c;
            if (i < progress) return c;
            return charset[Math.floor(Math.random() * charset.length)];
    });

    pre.textContent = out.join("");
    progress += 20;
    }, 50);
}

function effect5() {
    let chars = art.split("");

    effectInterval = setInterval(() => {
        const i = Math.floor(Math.random() * chars.length);
        if (chars[i] !== "\n") chars[i] = " ";
        pre.textContent = chars.join("");
    }, 2);
}

setInterval(() => {
    clearInterval(effectInterval);
    chooseRandom();
}, 12000);

chooseRandom();